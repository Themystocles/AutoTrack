<div id="search-container" class="p-6 bg-gray-800 text-white rounded-lg shadow-lg">
  <!-- Título -->
  <h2 class="text-xl font-bold mb-4 text-center">SERVIÇO</h2>
  <h2 class="text-xl font-bold mb-4 text-center">Buscar Veículo</h2>

  <!-- Input e botões para buscar veículo -->
  <div class="mb-6 flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0 justify-center">
    <!-- Busca por Placa -->
    <div id="search-by-plate" class="flex items-center w-full md:w-auto space-x-2">
      <input 
        [(ngModel)]="veiculoPlaca" 
        placeholder="Digite a placa do veículo" 
        class="border border-gray-600 bg-gray-700 p-2 rounded-md text-white w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-blue-500 uppercase " mask="AAA-AAAA"
      >
      <button 
        (click)="GetveiculoByPlaca()" 
        class="bg-blue-600 text-white p-2 h-10 rounded-md hover:bg-blue-700 transition duration-200"
      >
        Buscar por Placa
      </button>
    </div>

    <!-- Busca por Chassi -->
    <div id="search-by-chassi" class="flex items-center w-full md:w-auto space-x-2">
      <input 
        [(ngModel)]="veiculoChassi" 
        placeholder="Digite o Chassi" 
        class="border border-gray-600 bg-gray-700 p-2 rounded-md text-white w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-green-500 uppercase"
      >
      <button 
        (click)="GetveiculoByChassi()" 
        class="bg-green-600 text-white p-2 h-10 rounded-md hover:bg-green-700 transition duration-200"
      >
        Buscar por Chassi
      </button>
    </div>
  </div>

  <!-- Botão de voltar -->
  <div class="flex justify-center">
    <button
      routerLink="/"
      class="w-full md:w-auto bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-300"
    >
      Voltar para Início
    </button>
  </div>
</div>


<!-- Cabeçalho -->
<div class="cabecalho bg-gray-900 p-4 rounded-md shadow-md mt-4 flex items-center justify-between">
  <!-- Logo -->
  <img src="assets/Logo.jpg" alt="Logo" class="w-52 md:w-72 lg:w-96 h-auto object-contain">
  
  <!-- Informações -->
  <div class="text-right">
    <p class="text-xs md:text-sm text-gray-400">
      CNPJ: 35.592.038/0001-85<br>
      GNV AUTO CENTER<br>
      AV CACILDA BECKER Nº 285 - JOÃO XXIII<br>
      (85) 3233-2270 - (85) 98716-0640
    </p>
  </div>
</div>

    
<div *ngIf="Veiculo && Veiculo.cliente" class="bg-white p-4 rounded mt-2 border border-gray-200">
  <h2 class="text-lg font-semibold text-gray-700 mb-2">Cliente</h2>
  <div class="flex flex-col space-y-2">
    <div class="flex pb-1">
      <span class="font-medium text-gray-600">Nome:</span>
      <span class="ml-1 text-gray-700">{{Veiculo.cliente.nome}}</span>
    </div>

    <div class="flex flex-wrap pb-1">
      <div class="w-full sm:w-1/2">
        <span class="font-medium text-gray-600">CPF:</span>
        <span class="ml-1 text-gray-700">{{Veiculo.cliente.cpf}}</span>
      </div>
      <div class="w-full sm:w-1/2">
        <span class="font-medium text-gray-600">Telefone:</span>
        <span class="ml-1 text-gray-700">{{Veiculo.cliente.telefone}}</span>
      </div>
    </div>
  </div>
</div>


<div *ngIf="Veiculo" class="bg-white p-4 rounded mt-2 border border-gray-200">
  <h2 class="text-lg font-semibold text-gray-700 mb-2">Veículo</h2>
  <div class="flex flex-col space-y-2">
    <div class="flex flex-wrap pb-1">
      <div class="w-full sm:w-1/3">
        <span class="font-medium text-gray-600">Carro:</span>
        <span class="ml-1 text-gray-700">{{Veiculo.carro}}</span>
      </div>
      <div class="w-full sm:w-1/3">
        <span class="font-medium text-gray-600">Placa:</span>
        <span class="ml-1 text-gray-700">{{Veiculo.placa}}</span>
      </div>
      <div class="w-full sm:w-1/3">
        <span class="font-medium text-gray-600">Cor:</span>
        <span class="ml-1 text-gray-700">{{Veiculo.cor}}</span>
      </div>
    </div>

    <div class="flex flex-wrap pb-1">
      <div class="w-full sm:w-1/3">
        <span class="font-medium text-gray-600">Espécie:</span>
        <span class="ml-1 text-gray-700">{{Veiculo.especie}}</span>
      </div>
      <div class="w-full sm:w-1/3">
        <span class="font-medium text-gray-600">Combustível:</span>
        <span class="ml-1 text-gray-700">{{Veiculo.combustivel}}</span>
      </div>
      <div class="w-full sm:w-1/3">
        <span class="font-medium text-gray-600">Capacidade:</span>
        <span class="ml-1 text-gray-700">{{Veiculo.capacidade}}</span>
      </div>
    </div>

    <div class="flex flex-wrap pb-1">
      <div class="w-full sm:w-1/2">
        <span class="font-medium text-gray-600">Renavam:</span>
        <span class="ml-1 text-gray-700">{{Veiculo.renavam}}</span>
      </div>
      <div class="w-full sm:w-1/2">
        <span class="font-medium text-gray-600">Chassi:</span>
        <span class="ml-1 text-gray-700">{{Veiculo.chassi}}</span>
      </div>
    </div>

    <div class="flex flex-wrap pb-1">
      <div class="w-full">
        <span class="font-medium text-gray-600">Observação:</span>
        <span class="ml-1 text-gray-700">{{Veiculo.observacao}}</span>
      </div>
    </div>
  </div>
</div>

<div *ngIf="Veiculo && Veiculo.servicos" class="bg-white p-4 rounded mt-2 border border-gray-200">
  <h2 class="text-lg font-semibold text-gray-700 mb-2">Serviços</h2>
  <div class="space-y-2">
    <div *ngFor="let servico of Veiculo.servicos | paginate: { itemsPerPage: 1, currentPage: servicoPage }" class="border-b border-gray-200 pb-2">
      <div class="flex flex-wrap pb-1">
        <div class="w-full sm:w-1/2">
          <span class="font-medium text-gray-600">Descrição:</span>
          <span class="ml-1 text-gray-700">{{servico.descricao}}</span>
        </div>
        <div class="w-full sm:w-1/2">
          <span class="font-medium text-gray-600">Forma de Pagamento:</span>
          <span class="ml-1 text-gray-700">{{servico.formaPag}}</span>
        </div>
      </div>

      <div class="flex flex-wrap pb-1">
        <div class="w-full sm:w-1/2">
          <span class="font-medium text-gray-600">Mecânico:</span>
          <span class="ml-1 text-gray-700">{{servico.mecanico}}</span>
        </div>
        <div class="w-full sm:w-1/2">
          <span class="font-medium text-gray-600">Valor Total:</span>
          <span class="ml-1 text-gray-700">{{servico.totalorcamento | currency: 'BRL' }}</span>
        </div>
      </div>

      <div class="flex pb-1">
        <span class="font-medium text-gray-600">Observação:</span>
        <span class="ml-1 text-gray-700 w-full">{{servico.observacao}}</span>
      </div>

      <div *ngIf="servico.orcamentos" class="mt-2">
        <h5 class="text-md font-semibold text-gray-700 mb-2 text-center">Orçamentos</h5>
        <table class="w-full border border-gray-200">
          <thead class="bg-gray-100">
            <tr>
              <th class="p-2 text-left">Serviço</th>
              <th class="p-2 text-left">Quantidade</th>
              <th class="p-2 text-left">Valor Parcial</th>
              <th class="p-2 text-left">Valor Total</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let orcamento of servico.orcamentos" class="border-t border-gray-200">
              <td class="p-2 text-gray-700">{{orcamento.nomeServico}}</td>
              <td class="p-2 text-gray-700">{{orcamento.quantidade}}</td>
              <td class="p-2 text-gray-700">{{orcamento.valorParcial | currency: 'BRL' }}</td>
              <td class="p-2 text-gray-700">{{orcamento.valorTotal | currency: 'BRL' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>



    <!-- Paginação -->
     <div id="OcultarPaginacao">
    <pagination-controls 
      (pageChange)="servicoPage = $event" 
      class="mt-4 flex justify-center items-center space-x-2 p-2 bg-gray-800 rounded-lg shadow-lg"
    >
      <button 
        class="px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition duration-200"
      >
        Previous
      </button>
      <span class="text-gray-300">Page {{servicoPage}}</span>
      <button 
        class="px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition duration-200"
      >
        Next
      </button>
    </pagination-controls>
  </div>
</div>
